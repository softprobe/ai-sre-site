---
import BaseLayout from '../layouts/BaseLayout.astro';
import { icons } from '../lib/icons';

const seo = {
  title: "FAQ - AI SRE, Safe Canary, and Runtime Context | Softprobe",
  description:
    "Frequently asked questions about Softprobe AI SRE: understanding infrastructure and business logic, preventive reliability, and Safe Canary deterministic replay.",
  canonical: "https://softprobe.ai/faq",
  image: "https://softprobe.ai/logos/4.svg",
  type: "website"
};

const faqs = [
  {
    question: "Do we need perfect logging to use Softprobe?",
    answer:
      "No. Softprobe is built for imperfect logging environments. It captures full request/response message bodies and session traces, then reconstructs runtime context for reliable analysis."
  },
  {
    question: "How Softprobe AI SRE is different?",
    answer: "Softprobe AI SRE does not require perfect logging. One agent for both infrastructure signals and business logic validation. It's prevention first: Softprobe Safe Canary validates behavior before customer traffic is exposed."    
  },
  {
    question: "Does Softprobe only react after incidents?",
    answer:
      "No. Softprobe is built to prevent customer impact before deployment, then accelerate incident response if issues still occur."
  },
  {
    question: "How does Softprobe understand business logic?",
    answer:
      "Softprobe extends OpenTelemetry to ingest business-level signals like transaction messages, user funnels, and supply chain metrics alongside infra telemetry. It correlates these signals with runtime behavior to understand how changes impact business outcomes, not just system health."
  },
  {
    question: "How does Softprobe Safe Canary work?",
    answer:
      "Softprobe captures production traffic and replays it deterministically in a sandbox environment. It compares the replay behavior with the production baseline and blocks the release if there's a mismatch, preventing bad changes from reaching customers."
  },
  {
    question: "Does Softprobe Safe Canary work with write APIs?",
    answer:
      "Yes. Softprobe can replay write APIs, but it does not modify production data. It uses captured upstream API calls and replay them in a sandbox environment to validate the behavior of the new release."
  },
  {
    question: "Does Softprobe Safe Canary require changes to my application?",
    answer:
      "No. Softprobe works with your existing application and infrastructure, and does not require any changes to your application code."
  },
  {
    question: "What kind of signals does Softprobe capture?",
    answer:
      "Softprobe uses your existing SRE tools. It also has an extension that captures transaction message bodies. It correlates these signals with runtime behavior to understand how changes impact business outcomes, not just system health."
  },
  {
    question: "Can Softprobe integrate with my existing tools?",
    answer:
      "Yes. Softprobe integrates with existing observability tools like Datadog, Splunk, and Prometheus, as well as CI/CD pipelines and incident management systems."
  },
  {
    question: "How quickly can I get started with Softprobe?",
    answer:
      "Softprobe can be deployed in minutes with a lightweight agent and integrates with your existing tools. Most teams see value within the first week."
  },
  {
    question: "Is Softprobe suitable for small teams?",
    answer:
      "Yes. Softprobe is designed to be accessible to teams of all sizes, from startups to large enterprises. Our lightweight agent and simple integration process make it easy to get started quickly."
  }
];

const takeaways = [
  "No garbage-in, garbage-out: Softprobe doesn't require you to write perfect logging",
  "Preventive instead of reactive: Softprobe Safe Canary validates behavior before customer traffic is exposed",
  "Understands both infrastructure and business logic"
];

const takeawayIcons = [
  `<svg viewBox="0 0 24 24" fill="none"><rect x="3" y="5" width="18" height="14" rx="2.4" stroke="currentColor" stroke-width="1.8"/><path d="M7 10h10M7 14h6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg>`,
  `<svg viewBox="0 0 24 24" fill="none"><path d="M4 7h6v6H4zM14 11h6v6h-6z" stroke="currentColor" stroke-width="1.8"/><path d="M10 10h4M12 10V7M12 17v-3" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg>`,
  `<svg viewBox="0 0 24 24" fill="none"><path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/><rect x="4" y="4" width="16" height="16" rx="3" stroke="currentColor" stroke-width="1.8"/></svg>`
];

const jsonld = {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "@id": "https://softprobe.ai/faq#webpage",
      url: "https://softprobe.ai/faq",
      name: seo.title,
      description:
        "Softprobe is an AI SRE agent that understands both infrastructure and business logic, with a preventive approach instead of only reactive incident response."
    },
    {
      "@type": "SoftwareApplication",
      name: "Softprobe AI SRE",
      applicationCategory: "DeveloperApplication",
      url: "https://softprobe.ai",
      description:
        "Softprobe is an AI SRE agent that understands both infrastructure and business logic, with a preventive approach instead of only reactive incident response.",
      featureList: takeaways
    },
    {
      "@type": "FAQPage",
      mainEntity: faqs.map((item) => ({
        "@type": "Question",
        name: item.question,
        acceptedAnswer: {
          "@type": "Answer",
          text: item.answer
        }
      }))
    }
  ]
};
---

<BaseLayout {...seo}>
  <Fragment slot="jsonld">
    <script type="application/ld+json" set:html={JSON.stringify(jsonld)}></script>
  </Fragment>

  <section class="bg-gradient-to-b from-emerald-50/40 to-[#F8FAFC] pt-32 pb-16 md:pt-40 md:pb-20 w-full">
    <div class="max-w-7xl mx-auto px-6">
      <div class="text-center max-w-4xl mx-auto">
        <h1 class="text-4xl md:text-6xl font-bold text-slate-900 tracking-tight leading-tight">
          AI SRE for Infrastructure
          <span class="block bg-gradient-to-r from-emerald-500 to-cyan-500 bg-clip-text text-transparent">
            and Business Logic
          </span>
        </h1>
        <p class="mt-6 text-xl text-slate-600 max-w-3xl mx-auto">
          Preventive, not just reactive. Softprobe prevents customer impact before rollout and responds faster during incidents with production-grounded evidence.
        </p>
      </div>
    </div>
  </section>

  <section class="py-24 w-full bg-white">
    <div class="max-w-7xl mx-auto px-6">
      <div class="grid md:grid-cols-3 gap-8 mb-16">
        {takeaways.map((item, idx) => (
          <article class={`takeaway-card takeaway-card-${idx + 1}`}>
            <div class="takeaway-badge" set:html={takeawayIcons[idx]} />
            <p class="takeaway-text">{item}</p>
          </article>
        ))}
      </div>

      <div class="faq-table-wrap">
        <h2 class="faq-table-title">Frequently Asked Questions</h2>
        <div class="faq-table-shell">
          <div class="faq-table-head">
            <span>Question</span>
            <span>Expand</span>
          </div>
          <div class="faq-table">
            {faqs.map((item, idx) => (
              <details class="faq-row" open={idx === 0}>
                <summary>
                  <span>{item.question}</span>
                  <span class="faq-plus">+</span>
                </summary>
                <p>{item.answer}</p>
              </details>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="bg-slate-900 py-24 w-full">
    <div class="max-w-4xl mx-auto px-6 text-center">
      <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
        Have More Questions?
      </h2>
      <p class="text-slate-400 text-lg mb-8">
        Talk to us about your reliability workflows and Safe Canary rollout process.
      </p>
      <div class="flex justify-center">
        <a
          href="/contact"
          class="inline-flex items-center gap-2 px-8 py-4 bg-white text-slate-900 rounded-full font-semibold hover:bg-slate-100 transition-all text-lg"
        >
          Contact Us
          <Fragment set:html={icons.ArrowRight} />
        </a>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .takeaway-card {
    position: relative;
    border-radius: 18px;
    padding: 18px 16px 16px;
    border: 1px solid transparent;
    box-shadow: 0 12px 24px rgba(15, 23, 42, 0.12);
    overflow: hidden;
  }

  .takeaway-card::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, 0.42);
    pointer-events: none;
  }

  .takeaway-card-1 {
    background: linear-gradient(145deg, #0f766e 0%, #115e59 100%);
  }

  .takeaway-card-2 {
    background: linear-gradient(145deg, #1d4ed8 0%, #1e40af 100%);
  }

  .takeaway-card-3 {
    background: linear-gradient(145deg, #7c3aed 0%, #6d28d9 100%);
  }

  .takeaway-badge {
    width: 30px;
    height: 30px;
    border-radius: 999px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: #0f172a;
    background: #ffffff;
    box-shadow: 0 4px 10px rgba(15, 23, 42, 0.2);
  }

  .takeaway-badge :global(svg) {
    width: 17px;
    height: 17px;
  }

  .takeaway-text {
    margin: 10px 0 0;
    color: #ffffff;
    font-size: 0.98rem;
    font-weight: 600;
    line-height: 1.55;
  }

  .faq-table-wrap {
    width: 100%;
    margin: 0 auto;
  }

  .faq-table-title {
    margin: 0 0 14px;
    color: #166534;
    font-size: clamp(1.35rem, 2.3vw, 2rem);
  }

  .faq-table-shell {
    background: #ffffff;
    border-radius: 16px;
    border: 1px solid #f1f5f9;
    overflow: hidden;
  }

  .faq-table-head {
    display: grid;
    grid-template-columns: 1fr 88px;
    align-items: center;
    background: #f8fafc;
    border-bottom: 1px solid #f1f5f9;
    padding: 12px 16px;
    font-size: 0.78rem;
    font-weight: 700;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    color: #64748b;
  }

  .faq-table-head span:last-child {
    text-align: center;
  }

  .faq-table {
    background: #ffffff;
  }

  .faq-row {
    border-top: 1px solid #f1f5f9;
    background: #ffffff;
    transition: background-color 140ms ease;
  }

  .faq-row:first-child {
    border-top: 0;
  }

  .faq-row:hover {
    background: #f8fafc;
  }

  .faq-row summary {
    list-style: none;
    cursor: pointer;
    padding: 15px 16px;
    display: grid;
    grid-template-columns: 1fr 88px;
    align-items: center;
    gap: 12px;
    color: #111827;
    font-size: 1rem;
    font-weight: 600;
  }

  .faq-row summary::-webkit-details-marker {
    display: none;
  }

  .faq-plus {
    justify-self: center;
    width: 24px;
    height: 24px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    color: #94a3b8;
    line-height: 1;
    transition: transform 160ms ease, color 160ms ease;
    border-radius: 999px;
    border: 1px solid #e2e8f0;
    background: #ffffff;
  }

  .faq-row[open] .faq-plus {
    transform: rotate(45deg);
    color: #166534;
    border-color: #bbf7d0;
    background: #f0fdf4;
  }

  .faq-row p {
    margin: 0;
    padding: 2px 16px 16px;
    color: #475569;
    line-height: 1.72;
    font-size: 0.98rem;
    border-top: 1px solid #f1f5f9;
  }

  @media (max-width: 980px) {
    .faq-table-wrap {
      padding: 0;
    }

    .faq-row summary {
      font-size: 1rem;
      padding: 14px;
    }

    .faq-row p {
      padding: 0 14px 14px;
    }
  }
</style>
