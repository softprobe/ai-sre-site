---
import BaseLayout from '../layouts/BaseLayout.astro';
import { icons } from '../lib/icons';

const plans = [
  {
    name: "Free",
    price: "$0",
    period: "/month",
    description: "Perfect for small projects",
    features: ["10 GB storage", "Session graph capture", "Community support", "Basic semantic search"],
    cta: "Start for Free",
    href: "https://dashboard.softprobe.ai/",
    highlighted: false,
  },
  {
    name: "Pro",
    price: "$399",
    originalPrice: "$499",
    period: "/month",
    description: "For production applications",
    features: [
      "1 TB storage",
      "Pre-production testing",
      "Priority email support",
      "Full agentic debugging",
      "Advanced ETL & reports",
      "CI/CD integration",
    ],
    cta: "Upgrade Now",
    href: "https://dashboard.softprobe.ai/",
    highlighted: true,
    badge: "Most Popular",
  },
  {
    name: "Enterprise",
    price: "Custom",
    period: "",
    description: "For large-scale workloads",
    features: [
      "Unlimited storage",
      "Designated support manager",
      "Uptime SLAs",
      "Custom security questionnaires",
      "SAML SSO & RBAC",
      "On-premise deployment option",
    ],
    cta: "Contact Us",
    href: "mailto:contact@softprobe.ai",
    highlighted: false,
  },
];
---

<BaseLayout title="Pricing - Softprobe">
    <section id="pricing" class="py-24 w-full">
      <div class="max-w-7xl mx-auto px-6">
        <div class="text-center mb-16">
          <span class="text-sm font-medium text-violet-600 mb-3 block">
            Pricing
          </span>
          <h2 class="text-3xl md:text-5xl font-bold text-slate-900 tracking-tight">
            Capture 100%. Pay less.
          </h2>
          <p class="mt-4 text-slate-500 text-lg max-w-xl mx-auto">
            Stop sampling. Retain every session. Reduce observability costs by 60%+ with index-free storage economics.
          </p>
        </div>

        <div class="grid md:grid-cols-3 gap-6">
          {plans.map((plan) => (
            <div
              class={`relative rounded-2xl border p-8 flex flex-col ${
                plan.highlighted
                  ? "border-emerald-300 bg-gradient-to-b from-emerald-50/50 to-white shadow-lg shadow-emerald-500/10"
                  : "border-slate-100 bg-white hover:border-slate-200"
              } transition-all duration-300`}
            >
              {plan.badge && (
                <div class="absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1 rounded-full bg-emerald-500 text-white text-xs font-semibold">
                  {plan.badge}
                </div>
              )}

              <div class="mb-6">
                <h3 class="text-lg font-semibold text-slate-900">{plan.name}</h3>
                <div class="mt-3 flex items-baseline gap-2">
                  <span class="text-4xl font-bold text-slate-900">{plan.price}</span>
                  {plan.originalPrice && (
                    <span class="text-lg text-slate-400 line-through">{plan.originalPrice}</span>
                  )}
                  <span class="text-sm text-slate-500">{plan.period}</span>
                </div>
                <p class="mt-2 text-sm text-slate-500">{plan.description}</p>
              </div>

              <ul class="space-y-3 mb-8 flex-1">
                {plan.features.map((f) => (
                  <li class="flex items-start gap-2.5">
                    <div class="text-emerald-500 mt-0.5 flex-shrink-0">
                      <Fragment set:html={icons.Check} />
                    </div>
                    <span class="text-sm text-slate-600">{f}</span>
                  </li>
                ))}
              </ul>

              <a
                href={plan.href}
                target="_blank"
                rel="noopener noreferrer"
                class={`block text-center text-sm font-medium py-3 rounded-full transition-all ${
                  plan.highlighted
                    ? "bg-slate-900 text-white hover:bg-slate-800 shadow-lg shadow-slate-900/10"
                    : "bg-slate-100 text-slate-700 hover:bg-slate-200"
                }`}
              >
                {plan.cta}
              </a>
            </div>
          ))}
        </div>

        {/* Trust Badges */}
        <div class="mt-16 flex flex-wrap justify-center gap-4 md:gap-6">
          {["ISO 27001", "SOC 2 Type II", "GDPR", "HIPAA", "PCI DSS"].map((badge) => (
            <div
              class="px-4 py-2 rounded-lg bg-slate-50 border border-slate-100 text-xs font-semibold text-slate-500 tracking-wide"
            >
              {badge}
            </div>
          ))}
        </div>
      </div>
    </section>
</BaseLayout>
