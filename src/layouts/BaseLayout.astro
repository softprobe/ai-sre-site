---
import Footer from '../components/Footer.astro';
import BookDemoButton from '../components/BookDemoButton.astro';
import SEO from '../components/seo/SEO.astro';
import { icons } from '../lib/icons';

interface Props {
  title: string;
  description?: string;
  canonical?: string;
  image?: string;
  noindex?: boolean;
  type?: string;
  lang?: string;
  publishedTime?: string;
  modifiedTime?: string;
}

const { 
  title, 
  description = "Softprobe AI SRE",
  canonical,
  image = "/logos/4.svg",
  noindex = false,
  type = "website",
  lang = "en",
  publishedTime,
  modifiedTime
} = Astro.props;
---

<!doctype html>
<html lang={lang}>
  <head>
    <link rel="icon" type="image/svg+xml" href="/logos/4.svg" />
    <SEO
      title={title}
      description={description}
      canonical={canonical}
      image={image}
      noindex={noindex}
      type={type}
      lang={lang}
      publishedTime={publishedTime}
      modifiedTime={modifiedTime}
    >
      <Fragment slot="jsonld">
        <slot name="jsonld" />
      </Fragment>
    </SEO>
    <slot name="head" />
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <header class="site-nav" aria-label="Primary">
      <div class="site-nav-inner">
        <a class="site-nav-logo" href="/" aria-label="Softprobe Home">
          <img src="/logos/4.svg" alt="Softprobe" width="28" height="28" />
          <span>Softprobe</span>
        </a>

        <nav class="site-nav-menu">
          <div class="site-nav-item site-nav-item-has-menu">
            <a href="#" aria-haspopup="true" class="flex items-center gap-1">
              Product
              <div class="w-4 h-4 text-slate-400">
                <Fragment set:html={icons.ChevronDown} />
              </div>
            </a>
            <div class="site-submenu" role="menu" aria-label="Product submenu">
              <a href="/ai-sre" role="menuitem">AI SRE</a>
              <a href="/api-regression-testing" role="menuitem">Pre-Release Canary Testing</a>
              <a href="/event-logging" role="menuitem">AI-Native Event Logging</a>
            </div>
          </div>
          <a href="/compare" role="menuitem">Compare</a>
          <div class="site-nav-item site-nav-item-has-menu">
            <a href="#" aria-haspopup="true" class="flex items-center gap-1">
              Resources
              <div class="w-4 h-4 text-slate-400">
                <Fragment set:html={icons.ChevronDown} />
              </div>
            </a>
            <div class="site-submenu" role="menu" aria-label="Resources submenu">
              <a href="/integrations" role="menuitem">Integrations</a>
              <a href="/blog" role="menuitem">Blog</a>
              <a href="/faq" role="menuitem">FAQ</a>
            </div>
          </div>
          <a href="/contact">Contact</a>
          <BookDemoButton />
        </nav>
      </div>
    </header>
    <slot />
    <Footer />
  </body>
</html>
